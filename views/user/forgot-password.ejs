<%- include("../../views/layouts/user/header") %>
<style>
    .auth-container {
        max-width: 400px;
        margin: 40px auto;
        padding: 20px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }
    
    .auth-box {
        border: 1px solid #eaeaec;
        border-radius: 4px;
        padding: 32px;
        background-color: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
    }
    
    .auth-logo {
        margin: 20px auto;
        text-align: center;
    }
    
    .auth-heading {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 16px;
        color: #282c3f;
        text-align: center;
    }
    
    .auth-subtext {
        font-size: 14px;
        margin-bottom: 24px;
        color: #696b79;
        text-align: center;
        line-height: 1.4;
    }
    
    .form-label {
        font-weight: 500;
        font-size: 14px;
        margin-bottom: 8px;
        color: #282c3f;
        display: block;
    }
    
    .form-control {
        height: 40px;
        padding: 8px 12px;
        border: 1px solid #d4d5d9;
        border-radius: 4px;
        width: 100%;
        font-size: 14px;
        transition: all 0.3s ease;
    }
    
    .form-control:focus {
        border-color: #ff3f6c;
        box-shadow: 0 0 0 2px rgba(255, 63, 108, 0.1);
        outline: none;
    }
    
    .submit-btn {
        background-color: #ff3f6c;
        border: none;
        color: #fff;
        width: 100%;
        border-radius: 4px;
        padding: 12px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        margin-top: 20px;
        text-transform: uppercase;
        transition: background-color 0.3s ease;
    }
    
    .submit-btn:hover {
        background-color: #ff527b;
    }
    
    .error-message {
        color: #ff5722;
        font-size: 12px;
        margin-top: 4px;
        min-height: 16px;
    }
    
    .divider {
        text-align: center;
        position: relative;
        margin: 32px 0;
    }
    
    .divider::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 1px;
        background-color: #eaeaec;
        z-index: 1;
    }
    
    .divider span {
        background-color: #fff;
        padding: 0 16px;
        color: #94969f;
        font-size: 14px;
        position: relative;
        z-index: 2;
    }

    .help-section {
        margin-top: 24px;
        padding-top: 20px;
        border-top: 1px solid #eaeaec;
    }

    .help-section p {
        font-size: 13px;
        color: #94969f;
        line-height: 1.5;
    }

    .create-account-link {
        display: block;
        text-align: center;
        text-decoration: none;
        color: #ff3f6c;
        font-size: 14px;
        font-weight: 500;
        padding: 8px;
        transition: color 0.3s ease;
    }

    .create-account-link:hover {
        color: #ff527b;
    }
</style>

<div class="auth-container">
    <div class="auth-box">
        <h1 class="auth-heading">Reset Password</h1>
        <p class="auth-subtext">Enter your email address and we'll send you a link to reset your password</p>
        
        <form method="post" action="/forgot-email-valid" onsubmit="return validateLoginForm()">
            <div class="mb-3">
                <label for="email" class="form-label">Email Address</label>
                <input 
                    class="form-control" 
                    name="email" 
                    placeholder="Enter your email address" 
                    type="text" 
                    id="email"
                >
                <div class="error-message" id="email-error"></div>
            </div>
            
            <button type="submit" class="submit-btn">Reset Password</button>
        </form>

        <div class="help-section">
            <p>
                Has your email address changed? If you no longer use the email address associated with your account, please contact our Customer Service team for assistance in restoring access to your account.
            </p>
        </div>
    </div>
    
    <div class="divider">
        <span>New to our store?</span>
    </div>
    
    <a href="/signup" class="create-account-link">
        Create your account
    </a>
</div>

<script>
    function validateLoginForm() {
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('email-error');
        const emailValue = emailInput.value.trim();
        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

        if (emailValue === '') {
            emailError.textContent = 'Please enter your email address';
            emailInput.style.borderColor = '#ff5722';
            return false;
        } else if (!emailValue.match(emailPattern)) {
            emailError.textContent = 'Please enter a valid email address';
            emailInput.style.borderColor = '#ff5722';
            return false;
        } else {
            emailError.textContent = '';
            emailInput.style.borderColor = '#d4d5d9';
            return true;
        }
    }
</script>
<%- include("../../views/layouts/user/footer") %>